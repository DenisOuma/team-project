{"ast":null,"code":"import { REGISTER_SUCCESS, REGISTER_FAIL, USER_LOADED, AUTH_ERROR, LOGIN_SUCCESS, LOGIN_FAIL, LOGOUT, CLEAR_ERRORS } from \"../types\"; // eslint-disable-next-line import/no-anonymous-default-export\n\nexport default ((state, action) => {\n  switch (action.type) {\n    case USER_LOADED:\n      console.log(\"user loaded\");\n      return { ...state,\n        isAuthenticated: true,\n        loading: false,\n        user: action.payload\n      };\n\n    case REGISTER_SUCCESS:\n    case LOGIN_SUCCESS:\n      console.log(action.payload.token);\n      localStorage.setItem(\"userToken\", action.payload.token);\n      localStorage.setItem(\"user\", action.payload.token);\n      return { ...state,\n        ...action.payload,\n        isAuthenticated: true,\n        loading: false\n      };\n\n    case REGISTER_FAIL:\n    case AUTH_ERROR:\n    case LOGIN_FAIL:\n    case LOGOUT:\n      localStorage.removeItem(\"token\");\n      return { ...state,\n        token: null,\n        isAuthenticated: false,\n        loading: false,\n        user: null,\n        error: action.payload\n      };\n\n    case CLEAR_ERRORS:\n      return { ...state,\n        error: null\n      };\n\n    default:\n      return state;\n  }\n});","map":{"version":3,"names":["REGISTER_SUCCESS","REGISTER_FAIL","USER_LOADED","AUTH_ERROR","LOGIN_SUCCESS","LOGIN_FAIL","LOGOUT","CLEAR_ERRORS","state","action","type","console","log","isAuthenticated","loading","user","payload","token","localStorage","setItem","removeItem","error"],"sources":["/home/moringa/Desktop/Development/code/phase-2/contact-keeper/backend/client/src/context/authentication/authReducer.js"],"sourcesContent":["import {\n\tREGISTER_SUCCESS,\n\tREGISTER_FAIL,\n\tUSER_LOADED,\n\tAUTH_ERROR,\n\tLOGIN_SUCCESS,\n\tLOGIN_FAIL,\n\tLOGOUT,\n\tCLEAR_ERRORS,\n} from \"../types\";\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default (state, action) => {\n\tswitch (action.type) {\n\t\tcase USER_LOADED:\n\t\t\tconsole.log(\"user loaded\");\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisAuthenticated: true,\n\t\t\t\tloading: false,\n\t\t\t\tuser: action.payload,\n\t\t\t};\n\n\t\tcase REGISTER_SUCCESS:\n\t\tcase LOGIN_SUCCESS:\n\t\t\tconsole.log(action.payload.token);\n\t\t\tlocalStorage.setItem(\"userToken\", action.payload.token);\n\t\t\tlocalStorage.setItem(\"user\", action.payload.token);\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t...action.payload,\n\t\t\t\tisAuthenticated: true,\n\t\t\t\tloading: false,\n\t\t\t};\n\t\tcase REGISTER_FAIL:\n\t\tcase AUTH_ERROR:\n\t\tcase LOGIN_FAIL:\n\t\tcase LOGOUT:\n\t\t\tlocalStorage.removeItem(\"token\");\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttoken: null,\n\t\t\t\tisAuthenticated: false,\n\t\t\t\tloading: false,\n\t\t\t\tuser: null,\n\t\t\t\terror: action.payload,\n\t\t\t};\n\t\tcase CLEAR_ERRORS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\terror: null,\n\t\t\t};\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n"],"mappings":"AAAA,SACCA,gBADD,EAECC,aAFD,EAGCC,WAHD,EAICC,UAJD,EAKCC,aALD,EAMCC,UAND,EAOCC,MAPD,EAQCC,YARD,QASO,UATP,C,CAWA;;AACA,gBAAe,CAACC,KAAD,EAAQC,MAAR,KAAmB;EACjC,QAAQA,MAAM,CAACC,IAAf;IACC,KAAKR,WAAL;MACCS,OAAO,CAACC,GAAR,CAAY,aAAZ;MACA,OAAO,EACN,GAAGJ,KADG;QAENK,eAAe,EAAE,IAFX;QAGNC,OAAO,EAAE,KAHH;QAINC,IAAI,EAAEN,MAAM,CAACO;MAJP,CAAP;;IAOD,KAAKhB,gBAAL;IACA,KAAKI,aAAL;MACCO,OAAO,CAACC,GAAR,CAAYH,MAAM,CAACO,OAAP,CAAeC,KAA3B;MACAC,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCV,MAAM,CAACO,OAAP,CAAeC,KAAjD;MACAC,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BV,MAAM,CAACO,OAAP,CAAeC,KAA5C;MACA,OAAO,EACN,GAAGT,KADG;QAEN,GAAGC,MAAM,CAACO,OAFJ;QAGNH,eAAe,EAAE,IAHX;QAINC,OAAO,EAAE;MAJH,CAAP;;IAMD,KAAKb,aAAL;IACA,KAAKE,UAAL;IACA,KAAKE,UAAL;IACA,KAAKC,MAAL;MACCY,YAAY,CAACE,UAAb,CAAwB,OAAxB;MACA,OAAO,EACN,GAAGZ,KADG;QAENS,KAAK,EAAE,IAFD;QAGNJ,eAAe,EAAE,KAHX;QAINC,OAAO,EAAE,KAJH;QAKNC,IAAI,EAAE,IALA;QAMNM,KAAK,EAAEZ,MAAM,CAACO;MANR,CAAP;;IAQD,KAAKT,YAAL;MACC,OAAO,EACN,GAAGC,KADG;QAENa,KAAK,EAAE;MAFD,CAAP;;IAID;MACC,OAAOb,KAAP;EAxCF;AA0CA,CA3CD"},"metadata":{},"sourceType":"module"}